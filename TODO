support linux in power.c
rewrite mem.c
